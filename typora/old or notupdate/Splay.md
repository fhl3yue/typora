**Luogu P3369 普通平衡树**

您需要写一种数据结构, 来维护一些数, 其中需要提供以下操作:  
1. 插入 $x$ 数  
2. 删除 $x$ 数(若有多个相同的数, 因只删除一个)  
3. 查询 $x$ 数的排名(排名定义为比当前数小的数的个数 +1 )  
4. 查询排名为 $\mathrm{x}$ 的数值  
5. 求 $x$ 的前驱(前驱定义为小于 $x$ ，且最大的数)  
6. 求 $x$ 的后继 (后继定义为大于 $x$, 且最小的数)   

二叉查找树 (Binary Search Tree, BST)是一种能存储特定数据类型的容器。二叉查找树允许快速查找、插入或者删除某一个节点。重要性质: 左小右大, 中序遍历是有序的。

![](C:\Users\LWQ\Downloads\graph (1).png)

![](C:\Users\LWQ\Downloads\graph (2).png)

Splay (伸展树) 是一种平衡二叉树，它通过不断将某个节点旋转到根节点。使得整棵树仍然满足BST的性质，并且保持平衡而不至于退化为链。它由 Daniel Sleator 和 Robert Tarjan 发明。

